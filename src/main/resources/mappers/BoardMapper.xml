<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.ict.ex.mapper.BoardMapper">
    
    <select id="getList" resultType="BoardVO">
        select * from mvc_board order by bid desc
    </select>
    
    <!--  BoardVO read(int bno); -->
    <select id="read" resultType="BoardVO">
    	<![CDATA[
        	select * from mvc_board where bid = #{bno}
        ]]>
    </select>
    
    <delete id="delete">
    	<![CDATA[
    		delete from mvc_board where bid = #{bid}
    	]]>
    </delete>
    
	<!-- 내가 해본것     
	<update id="write">
    	<![CDATA[
    		insert into mvc_board (bId, bName, bTitle, bContent, bHit, bGroup, bStep, bIndent) 
    		values (mvc_board_seq.nextval, #{bname}, #{btitle}, #{bcontent}, 0, mvc_board_seq.currval, 0, 0)
    	]]>
    </update>
    
    <update id="modify">
    	<![CDATA[
    		update mvc_board set bName = #{bname} , bTitle = #{btitle} , bContent = #{bcontent} where bId = #{bid}
    	]]>
    </update> 
    -->
    
    <insert id="intsertBoard">
    	<![CDATA[
    		insert into mvc_board (bId, bName, bTitle, bContent, bHit, bGroup, bStep, bIndent) 
    		values (mvc_board_seq.nextval, #{board.bname}, #{board.btitle}, #{board.bcontent}, 0, mvc_board_seq.currval, 0, 0)
    	]]>
    </insert>
    
    <update id="updateBoard">
    	<![CDATA[
    		update mvc_board set bName = #{bname} , bTitle = #{btitle} , bContent = #{bcontent} where bId = #{bid}
    	]]>
    </update>
    

    
    <update id="reply">
    	<![CDATA[
    		insert into mvc_board (bId, bName, bTitle, bContent, bGroup, bStep, bIndent) values (mvc_board_seq.nextval, #{bname}, #{btitle}, #{bcontent}, #{bgroup}, #{bstep}, #{bindent})
    	]]>
    </update>
    
    
</mapper>